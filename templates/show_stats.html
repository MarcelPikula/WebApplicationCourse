{% extends 'base.html' %}

{% block content %}
    <div class="row">
        <div class="col"></div>
            <div class="col-8">
                <center>
                    <h1>Stats of BookWeb:</h1>
                    <div style="width: 700px;">
                        <canvas id="myChart" ></canvas>
                    </div>
                </center>
            </div>
        <div class="col"></div>
    </div>
    <script>
        const data = {
          labels: ['Users','Books','Reviews'],
          datasets: [{
            data: [{{ num_of_users }}, {{ num_of_books }}, {{ num_of_reviews }} ],
            backgroundColor: [
              'rgba(255, 99, 132, 0.2)',
              'rgba(75, 192, 192, 0.2)',
              'rgba(255, 205, 86, 0.2)',
            ],
            borderColor: [
              'rgb(255, 99, 132)',
              'rgb(75, 192, 192)',
              'rgb(255, 205, 86)',
            ],
            borderWidth: 1
          }]
        };

        const config = {
          type: 'bar',
          data: data,
          options: {
              plugins:{
                  legend:{
                    display: false
                    },
                  title:{
                      text:"Number of items stored in database.",
                      display: true
                  }
              },
            scales: {
              y: {
                beginAtZero: true
              }
            }
          },
        };

        const myChart = new Chart(
                        document.getElementById('myChart'),
                        config
                    );
    </script>


{% endblock %}